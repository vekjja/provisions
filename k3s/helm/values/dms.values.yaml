# Values for docker-mailserver

nameOverride: ""
fullnameOverride: ""

image:
  name: "mailserver/docker-mailserver"
  pullPolicy: "Always"
  # tag: "latest"  # Will default to chart's appVersion if not specified

  # Certificate secret name (created by cert-manager Certificate resource)
  # The Certificate resource will create a TLS secret with this name
certificate: "mail-livingroom-cloud-tls"

# Service Configuration for MetalLB LoadBalancer
service:
  type: "LoadBalancer"
  externalTrafficPolicy: "Local" # Recommended for LoadBalancer type
  annotations: {}
  labels: {}

# Deployment configuration
deployment:
  replicas: 1

  env:
    # Required - override hostname
    OVERRIDE_HOSTNAME: "mail.livingroom.cloud"

    # Enable IMAP
    ENABLE_IMAP: 1

    # Enable OpenDKIM for email signing
    ENABLE_OPENDKIM: 1

    # Enable OpenDMARC for email authentication
    ENABLE_OPENDMARC: 1

    # Enable SPF policy daemon
    ENABLE_POLICYD_SPF: 1

    # Enable Fail2ban for email security
    ENABLE_FAIL2BAN: 1

    # Timezone
    TZ: "America/New_York"

    # Log level
    LOG_LEVEL: "info"

# Persistent Volume Claims for mail data
persistent_volume_claims:
  mail-config:
    enabled: true
    size: 99Mi
    storageClass: "local-path"
    accessModes:
    - ReadWriteOnce

  mail-data:
    enabled: true
    size: 99Gi
    storageClass: "local-path"
    accessModes:
    - ReadWriteOnce

  mail-log:
    enabled: true
    size: 9Gi
    storageClass: "local-path"
    accessModes: [ ReadWriteOnce ]

  mail-state:
    enabled: true
    size: 1Gi
    storageClass: "local-path"
    accessModes: [ ReadWriteOnce ]
